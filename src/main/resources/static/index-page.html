<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ownify - Ana Sayfa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">
                <i class="fas fa-home me-2"></i>Ownify
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Ana Sayfa</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            Kategoriler
                        </a>
                        <ul class="dropdown-menu" id="categories-dropdown">
                            <!-- Categories will be loaded here -->
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">Hakkımızda</a>
                    </li>
                </ul>
                <div class="d-flex">
                    <form class="d-flex me-3" action="/search" method="get">
                        <input class="form-control me-2" type="search" name="q" placeholder="Ürün ara..." required>
                        <button class="btn btn-outline-light" type="submit">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>
                    <a href="/login" class="btn btn-outline-light me-2">Giriş</a>
                    <a href="/register" class="btn btn-light">Kayıt Ol</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="bg-light py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold text-primary">Ownify'a Hoş Geldiniz</h1>
                    <p class="lead">İkinci el ürünlerinizi güvenle alın ve satın. Binlerce ürün arasından size en uygun olanı bulun.</p>
                    <div class="mt-4">
                        <a href="/register" class="btn btn-primary btn-lg me-3">Hemen Başla</a>
                        <a href="/about" class="btn btn-outline-primary btn-lg">Daha Fazla Bilgi</a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <img src="https://via.placeholder.com/500x300/007bff/ffffff?text=Ownify" class="img-fluid rounded" alt="Ownify">
                </div>
            </div>
        </div>
    </div>

    <!-- Categories Section -->
    <div class="container my-5">
        <h2 class="text-center mb-4">Kategoriler</h2>
        <div class="row" id="categories-section">
            <!-- Categories will be loaded here -->
        </div>
    </div>

    <!-- Featured Products -->
    <div class="bg-light py-5">
        <div class="container">
            <h2 class="text-center mb-4">Öne Çıkan Ürünler</h2>
            <div class="row" id="featured-products">
                <!-- Featured products will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="container my-5">
        <div class="row">
            <div class="col-md-4 text-center mb-4">
                <div class="card h-100 border-0">
                    <div class="card-body">
                        <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                        <h5 class="card-title">Güvenli Alışveriş</h5>
                        <p class="card-text">Tüm işlemleriniz güvenli ödeme sistemi ile korunur.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 text-center mb-4">
                <div class="card h-100 border-0">
                    <div class="card-body">
                        <i class="fas fa-users fa-3x text-primary mb-3"></i>
                        <h5 class="card-title">Geniş Topluluk</h5>
                        <p class="card-text">Binlerce kullanıcı ile ikinci el ürün ticareti yapın.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 text-center mb-4">
                <div class="card h-100 border-0">
                    <div class="card-body">
                        <i class="fas fa-headset fa-3x text-primary mb-3"></i>
                        <h5 class="card-title">7/24 Destek</h5>
                        <p class="card-text">Her zaman yanınızdayız, sorunlarınızı çözüyoruz.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Ownify</h5>
                    <p>İkinci el ürün alım satımının güvenli adresi</p>
                </div>
                <div class="col-md-6">
                    <h6>Hızlı Bağlantılar</h6>
                    <ul class="list-unstyled">
                        <li><a href="/about" class="text-white-50">Hakkımızda</a></li>
                        <li><a href="/faqs" class="text-white-50">SSS</a></li>
                        <li><a href="/customer-support" class="text-white-50">Destek</a></li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2024 Ownify. Tüm hakları saklıdır.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Load categories
        fetch('/api/categories')
            .then(response => response.json())
            .then(categories => {
                const dropdown = document.getElementById('categories-dropdown');
                const section = document.getElementById('categories-section');
                
                categories.forEach(category => {
                    // Add to dropdown
                    const li = document.createElement('li');
                    li.innerHTML = `<a class="dropdown-item" href="/category/${category.id}">${category.name}</a>`;
                    dropdown.appendChild(li);
                    
                    // Add to categories section
                    const col = document.createElement('div');
                    col.className = 'col-md-3 mb-3';
                    col.innerHTML = `
                        <div class="card text-center">
                            <div class="card-body">
                                <i class="fas fa-box fa-2x text-primary mb-2"></i>
                                <h6 class="card-title">${category.name}</h6>
                                <a href="/category/${category.id}" class="btn btn-sm btn-outline-primary">Görüntüle</a>
                            </div>
                        </div>
                    `;
                    section.appendChild(col);
                });
            });

        // Load featured products
        fetch('/api/products/featured?limit=4')
            .then(response => response.json())
            .then(products => {
                const container = document.getElementById('featured-products');
                
                products.forEach(product => {
                    const col = document.createElement('div');
                    col.className = 'col-md-3 mb-3';
                    col.innerHTML = `
                        <div class="card h-100">
                            <img src="${product.imageUrl || 'https://via.placeholder.com/200x150'}" class="card-img-top" alt="${product.title}">
                            <div class="card-body d-flex flex-column">
                                <h6 class="card-title">${product.title}</h6>
                                <p class="card-text text-muted small">${product.description ? product.description.substring(0, 60) + '...' : ''}</p>
                                <div class="mt-auto">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <strong class="text-primary">${product.price} ₺</strong>
                                        <a href="/product/${product.id}" class="btn btn-sm btn-primary">Detay</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    container.appendChild(col);
                });
            });
    </script>
</body>
</html>